<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment | Luxury Jewelry</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .payment-section {
            padding-top: 120px;
        }
        .checkout-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            padding: 30px;
            margin-bottom: 30px;
        }
        .checkout-card-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            color: var(--dark-color);
        }
        .form-label {
            font-weight: 500;
            color: var(--dark-color);
            margin-bottom: 8px;
        }
        .form-control, .form-select {
            border-radius: 10px;
            padding: 12px 15px;
            border: 1px solid #ddd;
            transition: all 0.3s;
        }
        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.25rem rgba(212, 175, 55, 0.25);
        }
        .continue-btn {
            width: 100%;
            padding: 12px;
            border-radius: 30px;
            margin-top: 20px;
            font-weight: 600;
            transition: transform 0.3s;
        }
        .continue-btn:hover {
            transform: translateY(-3px);
        }
        .order-summary {
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            padding: 25px;
        }
        .summary-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
            color: var(--dark-color);
        }
        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        .summary-item:last-of-type {
            font-weight: 600;
            padding-top: 15px;
            border-top: 1px solid #eee;
            margin-top: 10px;
            font-size: 18px;
        }
        .summary-products {
            margin-bottom: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        .summary-product {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .summary-product:last-child {
            border-bottom: none;
        }
        .summary-product-image {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            margin-right: 10px;
        }
        .summary-product-info {
            flex: 1;
        }
        .summary-product-name {
            font-weight: 600;
            margin-bottom: 2px;
            font-size: 14px;
        }
        .summary-product-price {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 13px;
        }
        .summary-product-quantity {
            font-size: 13px;
            color: #666;
        }
        .back-btn {
            color: var(--dark-color);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            font-weight: 500;
            margin-bottom: 20px;
            transition: color 0.3s;
        }
        .back-btn:hover {
            color: var(--primary-color);
        }
        .back-btn i {
            margin-right: 8px;
        }
        .checkout-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            flex: 1;
        }
        .step-number {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #f1f1f1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 8px;
            color: #777;
            border: 2px solid #e0e0e0;
        }
        .step-text {
            font-size: 14px;
            color: #777;
            text-align: center;
        }
        .step.active .step-number {
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-color: var(--primary-color);
        }
        .step.active .step-text {
            color: var(--dark-color);
            font-weight: 600;
        }
        .step.completed .step-number {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }
        .step-line {
            height: 2px;
            background: #e0e0e0;
            flex: 1;
            z-index: 0;
            position: relative;
            top: -20px;
        }
        .steps-progress {
            height: 2px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            position: absolute;
            top: 17px;
            left: 17px;
            width: 0;
            z-index: 0;
            transition: width 0.5s;
        }
        .payment-method {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
            cursor: pointer;
        }
        .payment-method:hover {
            border-color: var(--primary-color);
        }
        .payment-method.active {
            border-color: var(--primary-color);
            background-color: rgba(212, 175, 55, 0.05);
        }
        .payment-method-title {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .payment-method-icon {
            font-size: 24px;
            margin-right: 10px;
            color: var(--primary-color);
        }
        .payment-method-name {
            font-weight: 600;
            font-size: 18px;
            margin: 0;
        }
        .payment-method-radio {
            margin-left: auto;
        }
        .payment-method-details {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        .payment-method.active .payment-method-details {
            display: block;
        }
        .upi-details {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .upi-qr {
            width: 120px;
            height: 120px;
            margin-bottom: 15px;
        }
        .upi-id {
            font-weight: 600;
            margin-bottom: 5px;
        }
        .card-icon {
            font-size: 20px;
            color: #6c757d;
            margin-right: 8px;
        }
        .card-group {
            position: relative;
        }
        .card-number-input {
            padding-left: 45px;
        }
        .card-icon-prepend {
            position: absolute;
            top: 12px;
            left: 15px;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
            <div class="container">
                <a class="navbar-brand shimmer" href="index.html">
                    <span class="brand-text">LUXURY JEWELS</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index.html#collections">Collections</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about.html">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index.html#services">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link cart-icon" href="cart.html"><i class="fas fa-shopping-cart"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Payment Section -->
    <section class="payment-section section-padding">
        <div class="container">
            <h1 class="mb-4">Payment</h1>
            
            <div class="checkout-steps mb-4">
                <div class="step completed">
                    <span class="step-number"><i class="fas fa-check"></i></span>
                    <span class="step-text">Shopping Cart</span>
                </div>
                <div class="step-line"></div>
                <div class="step completed">
                    <span class="step-number"><i class="fas fa-check"></i></span>
                    <span class="step-text">Shipping Details</span>
                </div>
                <div class="step-line"></div>
                <div class="step active">
                    <span class="step-number">3</span>
                    <span class="step-text">Payment</span>
                </div>
                <div class="step-line"></div>
                <div class="step">
                    <span class="step-number">4</span>
                    <span class="step-text">Confirmation</span>
                </div>
                <div class="steps-progress"></div>
            </div>
            
            <a href="shipping.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Back to Shipping
            </a>
            
            <div class="row">
                <div class="col-lg-8 mb-4">
                    <div class="checkout-card">
                        <h3 class="checkout-card-title">Select Payment Method</h3>
                        <form id="payment-form">
                            <!-- Credit/Debit Card -->
                            <div class="payment-method active" data-method="card">
                                <div class="payment-method-title">
                                    <div class="payment-method-icon">
                                        <i class="fas fa-credit-card"></i>
                                    </div>
                                    <h4 class="payment-method-name">Credit/Debit Card</h4>
                                    <div class="payment-method-radio">
                                        <input type="radio" name="paymentMethod" id="cardPayment" value="card" checked>
                                    </div>
                                </div>
                                <div class="payment-method-details">
                                    <div class="row mb-3">
                                        <div class="col-12">
                                            <label for="cardNumber" class="form-label">Card Number</label>
                                            <div class="card-group">
                                                <span class="card-icon-prepend">
                                                    <i class="fab fa-cc-visa"></i>
                                                </span>
                                                <input type="text" class="form-control card-number-input" id="cardNumber" placeholder="XXXX XXXX XXXX XXXX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6 mb-3 mb-md-0">
                                            <label for="cardName" class="form-label">Name on Card</label>
                                            <input type="text" class="form-control" id="cardName">
                                        </div>
                                        <div class="col-md-3 col-6">
                                            <label for="expiryDate" class="form-label">Expiry</label>
                                            <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY">
                                        </div>
                                        <div class="col-md-3 col-6">
                                            <label for="cvv" class="form-label">CVV</label>
                                            <input type="text" class="form-control" id="cvv" placeholder="123">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- UPI Payment -->
                            <div class="payment-method" data-method="upi">
                                <div class="payment-method-title">
                                    <div class="payment-method-icon">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <h4 class="payment-method-name">UPI Payment</h4>
                                    <div class="payment-method-radio">
                                        <input type="radio" name="paymentMethod" id="upiPayment" value="upi">
                                    </div>
                                </div>
                                <div class="payment-method-details">
                                    <div class="upi-details">
                                        <img src="https://dummyimage.com/120x120/d4af37/ffffff&text=UPI+QR" alt="UPI QR Code" class="upi-qr">
                                        <p class="upi-id">luxury.jewels@ybl</p>
                                        <p class="mb-3">Scan the QR code with any UPI app or enter the UPI ID manually</p>
                                        <div class="d-flex justify-content-center gap-2">
                                            <button type="button" class="btn btn-outline-primary">
                                                <i class="fas fa-copy me-2"></i>Copy UPI ID
                                            </button>
                                            <button type="button" class="btn btn-outline-primary">
                                                <i class="fas fa-mobile-alt me-2"></i>Open UPI App
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Cash on Delivery -->
                            <div class="payment-method" data-method="cod">
                                <div class="payment-method-title">
                                    <div class="payment-method-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <h4 class="payment-method-name">Cash on Delivery</h4>
                                    <div class="payment-method-radio">
                                        <input type="radio" name="paymentMethod" id="codPayment" value="cod">
                                    </div>
                                </div>
                                <div class="payment-method-details">
                                    <p>Pay the full amount when your order is delivered. Note that for orders above ₹50,000, a pre-payment of 20% is required for security purposes.</p>
                                    <p class="text-danger">Cash on Delivery is not available for Next Day Delivery.</p>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-primary continue-btn">
                                Place Order
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <div class="order-summary">
                        <h3 class="summary-title">Order Summary</h3>
                        <div class="summary-products" id="summary-products">
                            <!-- Products will be added here dynamically -->
                        </div>
                        <div class="summary-item">
                            <span>Subtotal</span>
                            <span id="subtotal"></span>
                        </div>
                        <div class="summary-item">
                            <span>Shipping</span>
                            <span id="shipping"></span>
                        </div>
                        <div class="summary-item">
                            <span>Tax (18%)</span>
                            <span id="tax"></span>
                        </div>
                        <div class="summary-item">
                            <span>Total</span>
                            <span id="total"></span>
                        </div>
                    </div>
                    
                    <div class="checkout-card mt-4">
                        <h3 class="checkout-card-title">Shipping Address</h3>
                        <div id="shipping-address">
                            <!-- Shipping details will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container py-5">
            <div class="row">
                <div class="col-lg-3 mb-4 mb-lg-0">
                    <a href="#" class="footer-logo">
                        <img src="https://dummyimage.com/180x60/d4af37/212529.png&text=LUXURY+JEWELS" alt="Luxury Jewels">
                    </a>
                    <div class="footer-about">
                        <p>Crafting exquisite jewelry since 1985. Our pieces combine traditional craftsmanship with modern design for timeless elegance.</p>
                    </div>
                    <div class="footer-social">
                        <a href="#" class="footer-social-item"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="footer-social-item"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="footer-social-item"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="footer-social-item"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
                    <h4 class="footer-title">Quick Links</h4>
                    <ul class="list-unstyled footer-links">
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="products.html"><i class="fas fa-chevron-right"></i> Products</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-7 col-md-12">
                    <div class="row">
                        <div class="col-md-6 mb-4 mb-md-0">
                            <h4 class="footer-title">Contact Us</h4>
                            <div class="footer-contact-item">
                                <div class="footer-contact-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="footer-contact-text">
                                    205, Dariba Kalan, Chandni Chowk Delhi-110006, (INDIA)
                                </div>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-icon">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div class="footer-contact-text">
                                    +91-98998-14144
                                </div>
                            </div>
                            <div class="footer-contact-item">
                                <div class="footer-contact-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="footer-contact-text">
                                    contact@luxuryjewels.com
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h4 class="footer-title">Newsletter</h4>
                            <p>Subscribe to receive updates on new collections and exclusive offers.</p>
                            <form class="newsletter-form d-flex">
                                <input type="email" class="form-control me-2" placeholder="Your Email">
                                <button type="submit" class="btn btn-primary">Subscribe</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6 text-center text-md-start">
                        <p>© 2025 Luxury Jewels. All Rights Reserved.</p>
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <p>Privacy Policy | Terms of Service</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Update the progress bar for the checkout steps
            document.querySelector('.steps-progress').style.width = '75%';
            
            // Get checkout data from sessionStorage
            const checkoutData = JSON.parse(sessionStorage.getItem('checkoutData'));
            
            if (!checkoutData || !checkoutData.shippingDetails) {
                // Redirect to shipping if no shipping details are available
                window.location.href = 'shipping.html';
                return;
            }
            
            // Populate summary products
            const summaryProductsContainer = document.getElementById('summary-products');
            
            checkoutData.items.forEach(item => {
                const productDiv = document.createElement('div');
                productDiv.className = 'summary-product';
                productDiv.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="summary-product-image">
                    <div class="summary-product-info">
                        <div class="summary-product-name">${item.name}</div>
                        <div class="d-flex justify-content-between">
                            <span class="summary-product-price">₹${item.price.toLocaleString()}</span>
                            <span class="summary-product-quantity">x${item.quantity}</span>
                        </div>
                    </div>
                `;
                summaryProductsContainer.appendChild(productDiv);
            });
            
            // Update summary values
            document.getElementById('subtotal').textContent = `₹${checkoutData.subtotal.toLocaleString()}`;
            document.getElementById('shipping').textContent = checkoutData.shipping === 0 ? 'Free' : `₹${checkoutData.shipping.toLocaleString()}`;
            document.getElementById('tax').textContent = `₹${checkoutData.tax.toLocaleString()}`;
            document.getElementById('total').textContent = `₹${checkoutData.total.toLocaleString()}`;
            
            // Populate shipping address
            const shippingAddress = document.getElementById('shipping-address');
            const details = checkoutData.shippingDetails;
            
            shippingAddress.innerHTML = `
                <div class="mb-2">
                    <strong>${details.firstName} ${details.lastName}</strong>
                </div>
                <div class="mb-1">
                    ${details.address}
                </div>
                ${details.apartment ? `<div class="mb-1">${details.apartment}</div>` : ''}
                <div class="mb-1">
                    ${details.city}, ${details.state} ${details.zip}
                </div>
                <div class="mb-1">
                    ${details.country}
                </div>
                <div class="mb-1">
                    <i class="fas fa-phone-alt me-2 small"></i>${details.phone}
                </div>
                <div class="mb-1">
                    <i class="fas fa-envelope me-2 small"></i>${details.email}
                </div>
                <div class="mt-3">
                    <strong>Shipping Method:</strong>
                    <div>
                        ${details.shippingMethod === 'standard' ? 'Standard Shipping (5-7 business days)' : 
                          details.shippingMethod === 'express' ? 'Express Shipping (2-3 business days)' : 
                          'Next Day Delivery'}
                    </div>
                </div>
            `;
            
            // Handle payment method selection
            const paymentMethods = document.querySelectorAll('.payment-method');
            const paymentRadios = document.querySelectorAll('input[name="paymentMethod"]');
            
            paymentRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    // Remove active class from all methods
                    paymentMethods.forEach(method => {
                        method.classList.remove('active');
                    });
                    
                    // Add active class to selected method
                    const selectedMethod = document.querySelector(`.payment-method[data-method="${this.value}"]`);
                    selectedMethod.classList.add('active');
                    
                    // Check if COD is not available for next day delivery
                    if (this.value === 'cod' && checkoutData.shippingDetails.shippingMethod === 'nextDay') {
                        alert('Cash on Delivery is not available for Next Day Delivery. Please select another payment method.');
                        document.getElementById('cardPayment').checked = true;
                        document.querySelector('.payment-method[data-method="card"]').classList.add('active');
                        document.querySelector('.payment-method[data-method="cod"]').classList.remove('active');
                    }
                });
            });
            
            // Allow clicking on payment method to select it
            paymentMethods.forEach(method => {
                method.addEventListener('click', function() {
                    const radioId = this.getAttribute('data-method') + 'Payment';
                    document.getElementById(radioId).click();
                });
            });
            
            // Handle form submission
            document.getElementById('payment-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get selected payment method
                const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
                
                // Add payment details to checkout data
                checkoutData.paymentDetails = {
                    method: paymentMethod,
                    // For a real application, you might add more payment details here
                };
                
                sessionStorage.setItem('checkoutData', JSON.stringify(checkoutData));
                
                // For demonstration purposes, we'll simulate order processing
                // In a real application, you would handle actual payment processing here
                
                // Generate a random order ID
                const orderId = 'LJ' + Math.floor(Math.random() * 1000000).toString().padStart(6, '0');
                
                // Calculate delivery date (for demonstration)
                const deliveryDays = checkoutData.shippingDetails.shippingMethod === 'nextDay' ? 1 :
                                      checkoutData.shippingDetails.shippingMethod === 'express' ? 3 : 7;
                
                const deliveryDate = new Date();
                deliveryDate.setDate(deliveryDate.getDate() + deliveryDays);
                
                // Save order details
                const orderDetails = {
                    orderId: orderId,
                    orderDate: new Date().toISOString(),
                    deliveryDate: deliveryDate.toISOString(),
                    status: 'Processing',
                    ...checkoutData
                };
                
                sessionStorage.setItem('orderDetails', JSON.stringify(orderDetails));
                
                // Redirect to confirmation page
                window.location.href = 'confirmation.html';
            });
        });
    </script>
</body>
</html> 